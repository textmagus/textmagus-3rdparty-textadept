# Appendix

## Key Bindings

Linux / Win32 | Mac OSX | Terminal | Command |
--------------|---------|----------|---------|
**File**                        ||||
Ctrl+N      |⌘N  |M-^N|New file
Ctrl+O      |⌘O  |^O  |Open file
Ctrl+Alt+O  |^⌘O |M-^O|Open recent file...
Ctrl+Shift+O|⌘⇧O |M-O |Reload file
Ctrl+S      |⌘S  |^S  |Save file
Ctrl+Shift+S|⌘⇧S |M-^S|Save file as..
Ctrl+W      |⌘W  |^W  |Close file
Ctrl+Shift+W|⌘⇧W |M-^W|Close all files
None        |None|None|Load session...
None        |None|None|Load session...
Ctrl+Q      |⌘Q  |^Q  |Quit
**Edit**                        ||||
Ctrl+Z<br/>Alt+Backspace|⌘Z       |^Z           |Undo
Ctrl+Y<br/>Ctrl+Shift+Z |⌘⇧Z      |^Y           |Redo
Ctrl+X<br/>Shift+Del    |⌘X<br/>⇧⌦|^X           |Cut
Ctrl+C<br/>Ctrl+Ins     |⌘C       |^C           |Copy
Ctrl+V<br/>Shift+Ins    |⌘V       |^V           |Paste
Ctrl+D                  |⌘D       |None         |Duplicate line
Del                     |⌦<br/>^D |Del<br/>^D   |Delete
Alt+Del                 |^⌦       |M-Del<br/>M-D|Delete word
Ctrl+A                  |⌘A       |M-A          |Select all
Ctrl+M                  |^M       |M-M          |Match brace
Ctrl+Enter              |^⎋       |M-Enter      |Complete word
Ctrl+Alt+Shift+H        |⌘⇧H      |None         |Highlight word
Ctrl+/                  |^/       |M-/          |Toggle block comment
Ctrl+T                  |^T       |^T           |Transpose characters
Ctrl+Shift+J            |^J       |M-J          |Join lines
Ctrl+Shift+M            |^⇧M      |M-S-M        |Select to matching brace
Ctrl+<                  |⌘<       |M-<          |Select between XML tags
Ctrl+>                  |⌘>       |None         |Select in XML tag
Ctrl+"                  |⌘"       |M-"          |Select in double quotes
Ctrl+'                  |⌘'       |M-'          |Select in single quotes
Ctrl+(                  |⌘(       |M-(          |Select in parentheses
Ctrl+[                  |⌘[       |M-[          |Select in brackets
Ctrl+{                  |⌘{       |M-{          |Select in braces
Ctrl+Shift+D            |⌘⇧D      |M-S-W        |Select word
Ctrl+Shift+N            |⌘⇧N      |M-S-N        |Select line
Ctrl+Shift+P            |⌘⇧P      |M-S-P        |Select paragraph
Ctrl+Shift+I            |⌘⇧I      |M-S-I        |Select indented block
Ctrl+Alt+U              |^U       |M-^U         |Upper case selection
Ctrl+Alt+Shift+U        |^⇧U      |M-^L         |Lower case selection
Alt+<                   |^<       |M->          |Enclose as XML tags
Alt+>                   |^>       |None         |Enclose as single XML tag
Alt+"                   |^"       |None         |Enclose in double quotes
Alt+'                   |^'       |None         |Enclose in single quotes
Alt+(                   |^(       |M-)          |Enclose in parentheses
Alt+[                   |^[       |M-]          |Enclose in brackets
Alt+{                   |^{       |M-}          |Enclose in braces
Ctrl++                  |⌘+       |M-+          |Grow selection bounds by 1
Ctrl+\_                 |⌘\_      |M-\_         |Shrink selection bounds by 1
Ctrl+Shift+Up           |^⇧⇡      |S-^Up        |Move selected lines up
Ctrl+Shift+Down         |^⇧⇣      |S-^Down      |Move selected lines down
**Search**                      ||||
Ctrl+F                   |⌘F  |M-F<br/>M-S-F|Find
Ctrl+G<br/>F3            |⌘G  |M-G          |Find next
Ctrl+Shift+G<br/>Shift+F3|⌘⇧G |M-S-G        |Find previous
Ctrl+Alt+R               |^R  |M-R          |Replace
Ctrl+Alt+Shift+R         |^⇧R |M-S-R        |Replace all
Ctrl+Alt+F               |^⌘F |M-^F         |Find incremental
Ctrl+Shift+F             |⌘⇧F |None         |Find in files
Ctrl+Alt+G               |^⌘G |None         |Goto next file found
Ctrl+Alt+Shift+G         |^⌘⇧G|None         |Goto previous file found
Ctrl+J                   |⌘J  |^J           |Jump to line
**Tools**                       ||||
Ctrl+E          |⌘E     |M-C          |Command entry
Ctrl+Shift+E    |⌘⇧E    |M-S-C        |Select command
Ctrl+R          |⌘R     |^R           |Run
Ctrl+Shift+R    |⌘⇧R    |M-^R         |Compile
Ctrl+&#124;     |⌘&#124;|^\           |Filter text through
Ctrl+Space      |⌥⎋     |^Space       |Complete symbol
Ctrl+H          |^H     |M-H<br/>M-S-H|Show documentation
Tab             |⇥      |Tab          |Expand snippet or next placeholder
Ctrl+K          |⌥⇥     |M-K          |Insert snippet...
Shift+Tab       |⇧⇥     |S-Tab        |Previous snippet placeholder
Ctrl+Shift+K    |⌥⇧⇥    |M-S-K        |Cancel snippet
Ctrl+F2         |⌘F2    |None         |Toggle bookmark
Ctrl+Shift+F2   |⌘⇧F2   |None         |Clear bookmarks
F2              |F2     |None         |Next bookmark
Shift+F2        |⇧F2    |None         |Previous bookmark
Alt+F2          |⌥F2    |None         |Goto bookmark...
Ctrl+U          |⌘U     |^U           |Snapopen `_USERHOME`
None            |None   |None         |Snapopen `_HOME`
Ctrl+Alt+Shift+O|^⌘⇧O   |M-S-O        |Snapopen current directory
Ctrl+I          |⌘I     |None         |Show style
**Buffer**                      ||||
Ctrl+Tab        |^⇥    |M-N          |Next buffer
Ctrl+Shift+Tab  |^⇧⇥   |M-P          |Previous buffer
Ctrl+B          |⌘B    |M-B<br/>M-S-B|Switch to buffer...
None            |None  |None         |Tab width: 2
None            |None  |None         |Tab width: 3
None            |None  |None         |Tab width: 4
None            |None  |None         |Tab width: 8
Ctrl+Alt+Shift+T|^⇧T   |M-T<br/>M-S-T|Toggle use tabs
Ctrl+Alt+I      |^I    |M-I          |Convert indentation
None            |None  |None         |`CRLF` EOL mode
None            |None  |None         |`CR` EOL mode
None            |None  |None         |`LF` EOL mode
None            |None  |None         |`UTF-8` encoding
None            |None  |None         |`ASCII` encoding
None            |None  |None         |`ISO-8859-1` encoding
None            |None  |None         |`UTF-16` encoding
Ctrl+Shift+L    |⌘⇧L   |M-S-L        |Select lexer...
F5              |F5    |^L<br/>F5    |Refresh syntax highlighting
**View**                        ||||
Ctrl+Alt+N               |^⌥⇥      |N/A  |Next view
Ctrl+Alt+P               |^⌥⇧⇥     |N/A  |Previous view
Ctrl+Alt+S<br/>Ctrl+Alt+H|^S       |N/A  |Split view horizontal
Ctrl+Alt+V               |^V       |N/A  |Split view vertical
Ctrl+Alt+W               |^W       |N/A  |Unsplit view
Ctrl+Alt+Shift+W         |^⇧W      |N/A  |Unsplit all views
Ctrl+Alt++<br/>Ctrl+Alt+=|^+<br/>^=|N/A  |Grow view
Ctrl+Alt+-               |^-       |N/A  |Shrink view
None                     |None     |None |Toggle current fold
Ctrl+Alt+Enter           |^↩       |None |Toggle view EOL
Ctrl+Alt+\\              |^\\      |None |Toggle wrap mode
Ctrl+Alt+Shift+I         |^⇧I      |None |Toggle show indent guides
Ctrl+Alt+Shift+S         |^⇧S      |None |Toggle view whitespace
Ctrl+Alt+Shift+V         |^⇧V      |None |Toggle virtual space
Ctrl+=                   |⌘=       |M-=  |Zoom in
Ctrl+-                   |⌘-       |M--  |Zoom out
Ctrl+0                   |⌘0       |M-0  |Reset zoom
Ctrl+Shift+T             |⌘⇧T      |None |Select theme...
**Help**                        ||||
F1      |F1  |None|Open manual
Shift+F1|⇧F1 |None|Open LuaDoc
None    |None|None|About
**Movement**                    ||||
Down                |⇣<br/>^N    |^N<br/>Down |Line down
Shift+Down          |⇧⇣<br/>^⇧N  |S-Down      |Line down extend selection
Ctrl+Down           |^⇣          |^Down       |Scroll line down
Alt+Shift+Down      |⌥⇧⇣         |M-S-Down    |Line down extend rect. selection
Up                  |⇡<br/>^P    |^P<br/>Up   |Line up
Shift+Up            |⇧⇡<br/>^⇧P  |S-Up        |Line up extend selection
Ctrl+Up             |^⇡          |^Up         |Scroll line up
Alt+Shift+Up        |⌥⇧⇡         |M-S-Up      |Line up extend rect. selection
Left                |⇠<br/>^B    |^B<br/>Left |Char left
Shift+Left          |⇧⇠<br/>^⇧B  |S-Left      |Char left extend selection
Ctrl+Left           |^⇠<br/>^⌘B  |^Left       |Word left
Ctrl+Shift+Left     |^⇧⇠<br/>^⌘⇧B|S-^Left     |Word left extend selection
Alt+Shift+Left      |⌥⇧⇠         |M-S-Left    |Char left extend rect. selection
Right               |⇢<br/>^F    |^F<br/>Right|Char right
Shift+Right         |⇧⇢<br/>^⇧F  |S-Right     |Char right extend selection
Ctrl+Right          |^⇢<br/>^⌘F  |^Right      |Word right
Ctrl+Shift+Right    |^⇧⇢<br/>^⌘⇧F|S-^Right    |Word right extend selection
Alt+Shift+Right     |⌥⇧⇢         |M-S-Right   |Char right extend rect. selection
Home                |⌘⇠<br/>^A   |^A<br/>Home |Line start
Shift+Home          |⌘⇧⇠<br/>^⇧A |M-S-A       |Line start extend selection
Ctrl+Home           |⌘⇡<br/>⌘↖   |M-^A        |Document start
Ctrl+Shift+Home     |⌘⇧⇡<br/>⌘⇧↖ |None        |Document start extend selection
Alt+Shift+Home      |⌥⇧↖         |None        |Line start extend rect. selection
End                 |⌘⇢<br/>^E   |^E<br/>End  |Line end
Shift+End           |⌘⇧⇢<br/>^⇧E |M-S-E       |Line end extend selection
Ctrl+End            |⌘⇣<br/>⌘↘   |M-^E        |Document end
Ctrl+Shift+End      |⌘⇧⇣<br/>⌘⇧↘ |None        |Document end extend selection
Alt+Shift+End       |⌥⇧↘         |None        |Line end extend rect. selection
PageUp              |⇞           |PageUp      |Page up
Shift+PageUp        |⇧⇞          |M-S-U       |Page up extend selection
Alt+Shift+PageUp    |⌥⇧⇞         |None        |Page up extend rect. selection
PageDown            |⇟           |PageDown    |Page down
Shift+PageDown      |⇧⇟          |M-S-D       |Page down extend selection
Alt+Shift+PageDown  |⌥⇧⇟         |None        |Page down extend rect. selection
Ctrl+Del            |⌘⌦          |^Del        |Delete word right
Ctrl+Shift+Del      |⌘⇧⌦         |S-^Del      |Delete line right
Ins                 |Ins         |Ins         |Toggle overtype
Backspace           |⌫<br/>⇧⌫    |^H<br/>Bksp |Delete back
Ctrl+Backspace      |⌘⌫          |None        |Delete word left
Ctrl+Shift+Backspace|⌘⇧⌫         |None        |Delete line left
Tab                 |⇥           |Tab         |Insert tab or indent
Shift+Tab           |⇧⇥          |S-Tab       |Dedent
None                |^K          |^K          |Cut to line end
None                |^L          |None        |Center line vertically
**Other**                    ||||
Ctrl+Shift+U, xxxx, Enter|None|None|Input Unicode character U-xxxx.

## Lua Patterns

The following is taken from the [Lua 5.2 Reference Manual][].

_Character Class:_

A character class is used to represent a set of characters. The following
combinations are allowed in describing a character class:

* **_`x`_:** (where _x_ is not one of the magic characters `^$()%.[]*+-?`)
  represents the character _x_ itself.
* **`.`:** (a dot) represents all characters.
* **`%a`:** represents all letters.
* **`%c`:** represents all control characters.
* **`%d`:** represents all digits.
* **`%g`:** represents all printable characters except space.
* **`%l`:** represents all lowercase letters.
* **`%p`:** represents all punctuation characters.
* **`%s`:** represents all space characters.
* **`%u`:** represents all uppercase letters.
* **`%w`:** represents all alphanumeric characters.
* **`%x`:** represents all hexadecimal digits.
* **`%`_`x`_:** (where _x_ is any non-alphanumeric character) represents the
  character _x_. This is the standard way to escape the magic characters. Any
  punctuation character (even the non magic) can be preceded by a '`%`' when
  used to represent itself in a pattern.
* **`[set]`:** represents the class which is the union of all characters in set.
  A range of characters can be specified by separating the end characters of the
  range with a '`-`'. All classes `%`_x_ described above can also be used as
  components in set. All other characters in set represent themselves. For
  example, `[%w_]` (or `[_%w]`) represents all alphanumeric characters plus the
  underscore, `[0-7]` represents the octal digits, and `[0-7%l%-]` represents
  the octal digits plus the lowercase letters plus the '`-`' character.
  <br /><br />
  The interaction between ranges and classes is not defined. Therefore, patterns
  like `[%a-z]` or `[a-%%]` have no meaning.
* **`[^set]`:** represents the complement of _set_, where _set_ is interpreted
  as above.

For all classes represented by single letters (`%a`, `%c`, etc.), the
corresponding uppercase letter represents the complement of the class. For
instance, `%S` represents all non-space characters.

The definitions of letter, space, and other character groups depend on the
current locale. In particular, the class `[a-z]` may not be equivalent to `%l`.

_Pattern Item:_

A _pattern item_ can be

* a single character class, which matches any single character in the class;
* a single character class followed by '`*`', which matches 0 or more
  repetitions of characters in the class. These repetition items will always
  match the longest possible sequence;
* a single character class followed by '`+`', which matches 1 or more
  repetitions of characters in the class. These repetition items will always
  match the longest possible sequence;
* a single character class followed by '`-`', which also matches 0 or more
  repetitions of characters in the class. Unlike '`*`', these repetition items
  will always match the _shortest_ possible sequence;
* a single character class followed by '`?`', which matches 0 or 1 occurrence of
  a character in the class;
* `%n`, for _n_ between 1 and 9; such item matches a substring equal to the
  _n_-th captured string (see below);
* `%bxy`, where _x_ and _y_ are two distinct characters; such item matches
  strings that start with _x_, end with _y_, and where the _x_ and _y_ are
  balanced. This means that, if one reads the string from left to right,
  counting +_1_ for an _x_ and -_1_ for a _y_, the ending _y_ is the first _y_
  where the count reaches 0. For instance, the item `%b()` matches expressions
  with balanced parentheses.
* `%f[set]`, a _frontier pattern_; such item matches an empty string at any
  position such that the next character belongs to _set_ and the previous
  character does not belong to _set_. The set _set_ is interpreted as previously
  described. The beginning and the end of the subject are handled as if they
  were the character `'\0'`.

_Pattern:_

A _pattern_ is a sequence of pattern items. A '`^`' at the beginning of a
pattern anchors the match at the beginning of the subject string. A '`$`' at the
end of a pattern anchors the match at the end of the subject string. At other
positions, '`^`' and '`$`' have no special meaning and represent themselves.

_Captures:_

A pattern can contain sub-patterns enclosed in parentheses; they describe
_captures_. When a match succeeds, the substrings of the subject string that
match captures are stored (_captured_) for future use. Captures are numbered
according to their left parentheses. For instance, in the pattern
`"(a*(.)%w(%s*))"`, the part of the string matching `"a*(.)%w(%s*)"` is stored
as the first capture (and therefore has number 1); the character matching "`.`"
is captured with number 2, and the part matching "`%s*`" has number 3.

As a special case, the empty capture `()` captures the current string position
(a number). For instance, if we apply the pattern `"()aa()"` on the string
`"flaaap"`, there will be two captures: 3 and 5.

[Lua 5.2 Reference Manual]: http://www.lua.org/manual/5.2/manual.html#6.4.1

## Ncurses Compatibility

Textadept 5.5 beta introduced an ncurses version that can run in a terminal
emulator. However, since ncurses is quite low-level in terms of graphics
capability compared to GTK, the ncurses version of Textadept lacks some
features in its editing component Scintilla:

* Buffered and two-phase drawing is not supported.
* Edge lines are not displayed properly (the line is drawn over by text lines).
* Indentation guides are not visible (pixmap surfaces are not supported).
* Indicators are not displayed (they would be drawn over by text lines).
* Line carets are not supported.
* Marker types other than `SC_MARK_CHARACTER` are not drawn (`surface->LineTo()`
  is not supported).
* Mouse interactions are not supported.
* Multiple fonts and font sizes are not supported.
* Only 8 colors are supported: black (`0x000000`), red (`0xFF0000`), green
  (`0x00FF00`), yellow (`0xFFFF00`), blue (`0x0000FF`), magenta (`0xFF00FF`),
  cyan (`0x00FFFF`), and white (`0xFFFFFF`). Even if your terminal uses a
  different color map, you must use these color values with Scintilla;
  unrecognized colors are set to white by default. Lexers can use up to 8 more
  colors by setting the style's `bold` attribute.
* Viewing whitespace does not show the 'Tab' character arrows
  (`surface->LineTo()` is not supported for drawing arrows).
* Visual wrap flags are not supported (`surface->LineTo()` is not supported).

## Migration Guides

### Textadept 4 to 5

Lua has been upgraded from [5.1 to 5.2][], so many scripts written for Textadept
4 are not compatible with Textadept 5. Since incompatible scripts may cause
crashes on startup, the following guide will help you migrate your scripts from
Textadept 4 to Textadept 5. While this guide is not exhaustive, it covers the
changes I had to make to Textadept's internals.

[5.1 to 5.2]: http://www.lua.org/manual/5.2/manual.html#8

#### Module Changes

##### Syntax Changes

Although Lua 5.2 only deprecates Lua 5.1's `module` syntax, Textadept 5 removes
it. Therefore, replace

    -- File ~/.textadept/modules/foo.lua
    module('_m.foo', package.seeall)

    function bar()
      ...
    end

    ...

and

    -- File ~/.textadept/init.lua
    require 'textadept'
    require 'foo'

with

    -- File ~/.textadept/modules/foo.lua
    local M = {}

    function M.bar()
      ...
    end

    ...

    return M

or

    local M = {}
    local _ENV = M
    if setfenv then setfenv(1, _ENV) end -- LuaJIT support

    function bar()
      ...
    end

    function baz()
      bar()
    end

    return M

and

    -- File ~/.textadept/init.lua
    require 'textadept'
    _M.foo = require 'foo'

Please remember that, as stated in the documentation, `require 'textadept'` is a
special case and `_M.textadept = require 'textadept'` is not necessary because
of internal dependencies. All other modules need the
`_M.module = require 'module'` construct.

Notice that `_M` is the new module table instead of `_m`. More on this
[later](#Global.Module.Table).

##### Module References

Replace all instances of `_M` (a reference created by `module()` that holds the
current module table) with `M` (the local module table you created).

Also, prefix all instances of internal module function calls with `M` if you are
not using `_ENV`. For example, change

    module('foo', package.seeall)

    function bar()
      ...
    end

    function baz()
      bar()
    end

to

    local M = {}

    function M.bar()
      ...
    end

    function M.baz()
      M.bar()
    end

    return M

##### LuaDoc

If you use LuaDoc for your modules, you can still document them like this:

    local M = {}

    --[[ This comment is for LuaDoc
    ---
    -- This is the documentation for module foo.
    module('foo')]]

    ---
    -- Documentation for bar.
    -- ...
    -- @name bar
    function M.bar()
      ...
    end

    return M

##### Global Module Table

Originally, I wanted to use `_M` as the global table that contains modules, but
Lua 5.1's modules used `_M` silently, so I had to settle with `_m`. Now that
modules have been removed, `_M` is available again and is used. Therefore,
replace all instances of `_m` with `_M`. In Textadept, you can easily do a
search and replace with "Match Case" and "Whole Words" checked -- this is what I
did when upgrading Textadept's internals.

#### Function Changes

##### `unpack`

`unpack()` has been renamed to `table.unpack()`. Replace all instances of
`unpack` with `table.unpack`.

##### `xpcall`

`xpcall()` accepts error function parameters so you can change code from

    local args = {...}
    xpcall(function() return f(unpack(args)) end, error_function)

to

    xpcall(f, error_function, ...)

However, this is not required.

##### `loadstring`

`loadstring()` has been replaced by `load()` since the latter now recognizes a
string chunk. Replace all instances of `loadstring` with `load`.

##### `setfenv`

`setfenv()` has been removed. In some cases, use `load()` with an environment
instead. For example, change

    local f, err = loadstring(command)
    if err then error(err) end
    setfenv(f, env)()

to

    local f, err = load(command, nil, 'bt', env)
    if err then error(err) end
    f()

(The `'bt'` is necessary for loading both binary and text chunks.)

If instead you want to set a function's environment, change

    setfenv(f, env)

to

    debug.setupvalue(f, 1, env)

##### `getfenv`

`getfenv()` has been removed. Change

    local env = getfenv(f)

to

    local debug = require 'debug'
    local env = debug.getupvalue(f, 1)

##### `os.execute`

`os.execute()`s function parameters have changed. If you are only interested in
the return code, change

    local code = os.execute(cmd)

to

    local _, _, code = os.execute(cmd)

##### `localize`

Localization is done using a global table [`_L`][] instead of calling
`locale.localize()`. Replace all instances of `locale.localize('message')` with
`_L['message']`. This allows messages to be modified via scripts if desirable.

[`_L`]: api/_L.html

##### `current_word`

`_M.textadept.editing.current_word()` has been renamed to `select_word()` and
does not take any parameters. There is a `_M.textadept.keys.utils.delete_word()`
function that replaces `current_word('delete')`. You can use it or create a new
function:

    local function delete_word()
      _M.textadept.editing.select_word()
      buffer:delete_back()
    end

#### Theme Changes

Any custom themes need to be changed to remove the `module` syntax. Usually this
involves changing

    module('lexer', package.seeall)

    colors = {
      ...
    }

    style_nothing = style { ... }
    style_class = style { fore = colors.light_yellow }
    ...
    style_identifier = style_nothing

    ...

    style_default = style {
      ...
    }
    style_line_number = { fore = colors.dark_grey, back = colors.black }
    ...

to

    local l, color, style = lexer, lexer.color, lexer.style

    l.colors = {
      ...
    }

    l.style_nothing = style { ... }
    l.style_class = style { fore = l.colors.light_yellow }
    ...
    l.style_identifier = l.style_nothing

    ...

    l.style_default = style {
      ...
    }
    l.style_line_number = { fore = l.colors.dark_grey, back = l.colors.black }
    ...

Notice the `l.` prefix before most identifiers.

### Textadept 3 to 4

#### Key and Menu Changes

Textadept 4 allow key shortcuts to appear in menus, but only simple ones, not
keychains. Therefore, Textadept's key commands have changed radically, as has
the menu structure and menu mnemonics. In order for key shortcuts to appear in
menus, `_m.textadept.menu` needs to know which commands are assigned to which
keys. Therefore, the menu module needs to be `require`d *after*
`_m.textadept.keys`. If your `~/.textadept/init.lua` is calling
`require 'textadept'`, you do not have to make any changes. If you are loading
individual modules from `_m.textadept`, ensure `_m.textadept.menu` is loaded
after `_m.textadept.keys`.

On Mac OSX, key command definition has changed. `m` is now ⌘ (command) and `a`
is now ⌥ (alt/option). `c` remains ^ (control). Previously `a` was ⌘ and ⌥ was
undefined. Please note, however, that not all ⌥ combinations by themselves will
work since that key is typically used to compose locale-dependent characters.

#### Function Changes

##### `select_scope`

`_m.textadept.editing.select_scope()` was renamed to `select_style()`.
Therefore, replace all instances of `_m.textadept.editing.select_scope` with
`_m.textadept.editing.select_style`.

##### `SAVE_STRIPS_WS`

`_m.textadept.editing.SAVE_STRIPS_WS` was renamed to `STRIP_WHITESPACE_ON_SAVE`.
Replace all instances of `_m.textadept.editing.SAVE_STRIPS_WS` with
`_m.textadept.editing.STRIP_WHITESPACE_ON_SAVE`.

### Textadept 2 to 3

#### Module Changes

##### Core Extensions

There are no more core extention modules (previously in `core/ext/`). They have
been relocated to `modules/textadept/` so putting

    require 'textadept'

in your `~/.textadept/init.lua` will load all the modules you would expect.
Please see the [preferences][] page for instructions on how to load specific
modules.

[preferences]: 9_Preferences.html#User.Init

##### Autoloading

Key commands in `~/.textadept/key_commands.lua` and snippets in
`~/.textadept/snippets.lua` are no longer auto-loaded. Instead, modify
[`keys`][] and/or [`snippets`][] from within your `~/.textadept/init.lua` or a
file loaded by `~/.textadept/init.lua`.

[`keys`]: api/keys.html
[`snippets`]: api/_M.textadept.snippets.html

#### Function Changes

Textadept has a brand new Lua [API][]. It is likely that any external scripts,
including themes, need to be rewritten.

Here is a summary of API changes:

* `_m.textadept.lsnippets` renamed to [`_m.textadept.snippets`][].
* `textadept.events` renamed to [`_G.events`][].
  * `events.handle()` renamed to [`events.emit()`][].
  * `events.add_handler()` renamed to [`events.connect()`][].
* `textadept.constants` renamed to [`_SCINTILLA.constants`][].
* `textadept.buffer_functions` renamed to [`_SCINTILLA.functions`][].
* `textadept.buffer_properties` renamed to [`_SCINTILLA.properties`][].
* `textadept.buffers` renamed to [`_BUFFERS`][].
* `textadept.views` renamed to [`_VIEWS`][].
* New [`gui`][] module.
  * Renamed `textadept._print()` to [`gui._print()`][].
  * Renamed `textadept.check_focused_buffer()` to `gui.check_focused_buffer()`.
  * Renamed `textadept.clipboard_text` to `gui.clipboard_text`.
  * Renamed `textadept.context_menu` to `gui.context_menu`.
  * Renamed `textadept.command_entry` to [`gui.command_entry`][].
  * Renamed `textadept.dialog` to [`gui.dialog()`][].
  * Renamed `textadept.docstatusbar_text` to `gui.docstatusbar_text`.
  * Renamed `textadept.find` to [`gui.find`][].
  * Renamed `textadept.focused_doc_pointer` to `gui.focused_doc_pointer`.
  * Renamed `textadept.get_split_table()` to [`gui.get_split_table()`][].
  * Renamed `textadept.gtkmenu()` to [`gui.gtkmenu()`][].
  * Renamed `textadept.goto_view()` to [`gui.goto_view()`][].
  * Renamed `textadept.menubar` to `gui.menubar`.
  * Renamed `textadept.print()` to [`gui.print()`][].
  * Renamed `textadept.size` to `gui.size`.
  * Renamed `textadept.statusbar_text` to `gui.statusbar_text`.
  * Renamed `textadept.switch_buffer()` to [`gui.switch_buffer()`][].
  * Renamed `textadept.title` to `gui.title`.
  * Renamed `textadept.new_buffer()` to [`new_buffer()`][].
  * Renamed `textadept.quit()` to [`quit()`][].
  * Renamed `textadept.reset()` to [`reset()`][].
  * Renamed `textadept.user_dofile()` to [`user_dofile()`][].
  * Renamed `textadept.iconv()` to [`string.iconv()`][].
  * Renamed `textadept.session_file` to `_SESSIONFILE`.
* Removed global `textadept` module.

[API]: api
[`_m.textadept.snippets`]: api/_M.textadept.snippets.html
[`_G.events`]: api/events.html
[`events.emit()`]: api/events.html#emit
[`events.connect()`]: api/events.html#connect
[`_SCINTILLA.constants`]: api/_SCINTILLA.html#constants
[`_SCINTILLA.functions`]: api/_SCINTILLA.html#functions
[`_SCINTILLA.properties`]: api/_SCINTILLA.html#properties
[`_BUFFERS`]: api/_G.html#_BUFFERS
[`_VIEWS`]: api/_G.html#_VIEWS
[`gui`]: api/gui.html
[`gui._print()`]: api/gui.html#_print
[`gui.command_entry`]: api/gui.command_entry.html
[`gui.dialog()`]: api/gui.html#dialog
[`gui.find`]: api/gui.find.html
[`gui.get_split_table()`]: api/gui.html#get_split_table
[`gui.gtkmenu()`]: api/gui.html#gtkmenu
[`gui.goto_view()`]: api/gui.html#goto_view
[`gui.print()`]: api/gui.html#print
[`gui.switch_buffer()`]: api/gui.html#switch_buffer
[`new_buffer()`]: api/_G.html#new_buffer
[`quit()`]: api/_G.html#quit
[`reset()`]:api/_G.html#reset
[`user_dofile()`]: api/_G.html#user_dofile
[`string.iconv()`]: api/string.html#iconv
